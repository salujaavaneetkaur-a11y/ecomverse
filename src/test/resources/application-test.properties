# ============================================================
# TEST CONFIGURATION - Uses H2 In-Memory Database
# ============================================================
# WHY H2 FOR TESTS?
# 1. Fast: Runs entirely in memory (no disk I/O)
# 2. Isolated: Each test gets a fresh database
# 3. No setup: No need to install MySQL for running tests
# ============================================================

spring.application.name=ecomverse-test

# H2 In-Memory Database Configuration
# MODE=MySQL makes H2 behave like MySQL (same SQL syntax)
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate Settings for Tests
# create-drop: Creates tables at start, drops at end (clean slate each run)
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.show-sql=false

# Disable H2 console in tests (not needed)
spring.h2.console.enabled=false

# JWT Settings (same as main, needed for auth tests)
spring.app.jwtSecret=testSecretKey123912738aopsgjnspkmndfsopkvajoirjg94gf2opfng2moknm
spring.app.jwtExpirationMs=3600000
spring.ecom.app.jwtCookieName=springBootEcomTest

# Image upload directory for tests
project.image=test-images/

# Reduce logging noise in tests
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.com.ecommerce.project=INFO
